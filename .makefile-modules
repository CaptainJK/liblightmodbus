ifneq (,$(findstring 01,$(SMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F01S)
MODULES += slave-coils
endif

ifneq (,$(findstring 02,$(SMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F02S)
MODULES += slave-coils
endif

ifneq (,$(findstring 03,$(SMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F03S)
MODULES += slave-registers
endif

ifneq (,$(findstring 04,$(SMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F04S)
MODULES += slave-registers
endif

ifneq (,$(findstring 05,$(SMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F05S)
MODULES += slave-coils
endif

ifneq (,$(findstring 06,$(SMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F06S)
MODULES += slave-registers
endif

ifneq (,$(findstring 15,$(SMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F15S)
MODULES += slave-coils
endif

ifneq (,$(findstring 16,$(SMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F16S)
MODULES += slave-registers
endif

ifneq (,$(findstring 22,$(SMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F22S)
MODULES += slave-registers
endif

ifdef SMODULES
MODULES += slave-base slave-link
endif


ifneq (,$(findstring 01,$(MMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F01M)
MODULES += master-coils
endif

ifneq (,$(findstring 02,$(MMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F02M)
MODULES += master-coils
endif

ifneq (,$(findstring 03,$(MMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F03M)
MODULES += master-registers
endif

ifneq (,$(findstring 04,$(MMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F04M)
MODULES += master-registers
endif

ifneq (,$(findstring 05,$(MMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F05M)
MODULES += master-coils
endif

ifneq (,$(findstring 06,$(MMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F06M)
MODULES += master-registers
endif

ifneq (,$(findstring 15,$(MMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F15M)
MODULES += master-coils
endif

ifneq (,$(findstring 16,$(MMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F16M)
MODULES += master-registers
endif

ifneq (,$(findstring 22,$(MMODULES)))
$(file >>include/lightmodbus/libconf.h,#define LIGHTMODBUS_F22M)
MODULES += master-registers
endif

ifdef MMODULES
MODULES += master-base master-link
endif
